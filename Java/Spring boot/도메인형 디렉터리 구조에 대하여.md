#개발일지 #SpringBoot 

## Background

스프링부트 프로젝트를 진행할 때 패키지 구조를 영역을 기반으로 하는 즉, `Controller`, `Service`, `Repository with Entity` 과 같은 대표적인 웹 계층을 구분하여 설계했습니다. 이러한 구조상 **클래스들이 한 데로 뭉쳐있어 가독성이 좋지 않고 탐색도 또한 찾기 힘들어지는 단점**이 크게 와닿기 시작했습니다.

어떻게 하면 보다 더 구체적인 구조와 정돈된 구조를 구축할 수 있을지, 이러한 단점을 어떤 방법으로 해소할 수 있는지 검색하고 고민하던 찰나, 이 글을 발견하게 됩니다.

![[Pasted image 20231118140143.png | 250]]

### Reference
- https://velog.io/@jsb100800/Spring-boot-directory-package
- https://velog.io/@sunil1369/Spring-boot-%ED%8C%A8%ED%82%A4%EC%A7%80-%EA%B5%AC%EC%A1%B0
- https://cheese10yun.github.io/spring-guide-directory/

---
## 도메인형 구조

**도메인형 디렉토리 구조를 갖추되, 해당 도메인 아래 웹 계층형 구조를 가진다는 것으로 분석**됩니다. 그렇게 하면, 기존 웹 계층형 디렉토리에서 업그레이드 된 구조라고 생각하게 되는데 그 이유를 간단하게 정리해봤습니다.

![[Pasted image 20231118142351.png | 230]] ![[Pasted image 20231118142424.png | 320]]

위의 사진은 레퍼런스 주소에서 가져왔습니다. 기존 방식과 비교해보면 차이점이 뚜렷합니다. 기존 방식은 블로그 글 설명대로 웹 구조를 쉽게 파악할 수 있으나 클래스가 한 디렉토리에 몰려있어서 에러 발생 또는 실수 할 수 있습니다. 

그래서 도메인형 구조를 적용하게 되면 **카테고리가 명확하게 구분 되는 점**을 들어, 보다 **직관적이고** 각 도메인들이 서로 의존할 수 없게 설계함으로써 **코드의 재활용성이 향상**할 수 있습니다.

하지만 문제점은 **사람마다 도메인형 구조 템플릿이 다 다르다는 점**입니다. 어떤 것을 참고하여 그대로 적용하기 보다, **개발자가 능동적으로 구조를 새로 구축하여 프로젝트를 진행해야 한다**는 것입니다.
이 구조 또한 정답이 없기에 위의 사진의 장점을 골라 적용하는 것이 옳다고 판단합니다.

1. `domain`과 `global` 구조를 가졌습니다.
2. `demo` 디렉토리가 있습니다. (메인 애플리케이션 코드는 `demo` 디렉토리 밖에 두는 것이 좋아 보이고, `domain` 아래 웹 계층 구조를 두는 것이 가독성 향상에 기여할 수 있을 것을 예상합니다.)

라고 해도, 결국 왼쪽 사진대로 된 것 같습니다

![[Pasted image 20231118144714.png]]

조금 더 찾아보니 [이 곳이](https://cheese10yun.github.io/spring-guide-directory/)더 구체적으로 설명하고 있습니다.
지금까지 정리한 것을 토대로 도메인형 구조를 구축해봤습니다.

![[Pasted image 20231202223703.png]]