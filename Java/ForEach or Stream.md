## `forEach`

컬렉션 *Collection*의 각 요소를 순회하며 주어진 작업을 수행하므로 기본적으로 순차적으로 처리하고, 병렬 처리를 지원하지 않습니다.

따라서 시간 복잡도는 O(n)입니다.

## `Stream`

Java 8에서 소개된 함수형 프로그래밍 스타일의 API로, 데이터의 처리를 선언적으로 표현할 수 있도록 해줍니다. 또한 데이터를 처리하는데 있어서 병렬성을 활용할 수 있습니다.

여러 중간 연산 *intermediate operations*과 최종 연산 *terminal operations*을 조합하여 복잡한 데이터 처리 작업을 수행할 수 있습니다.

### 병렬 처리한다는 것은?

멀티코어 환경에서 여러 스레드를 사용하여 동시에 작업을 수행하는 것을 의미합니다. 내부적으로 Fork/Join사용하여 데이터를 여러 청크로 분할하고 병렬로 처리할 수 있도록 지원합니다.

따라서 스트림의 병렬 처리는 `parallel()` 메서드를 사용하여 활성화할 수 있습니다.

```java title:example
List<String> list = Arrays.asList("A", "B", "C");
list.parallelStream()
    .forEach(System.out::println);
```

`parallelStream()` 메서드는 리스트를 병렬 스트림으로 변환합니다. 이렇게 변환된 스트림은 여러 스레드에서 동시에 요소를 처리할 수 있습니다.

단, 병렬 처리가 항상 성능 향상을 가져오는 것이 아닙니다. 작업이 간단하거나 데이터 크기가 작은 경우에는 병렬 처리의 오버헤드가 오히려 성능을 저하시킬 수 있습니다. 향상 성능을 고려하여 적절한 상황에서 병렬 처리를 선택하는 것이 중요합니다.

---
## 결론

`forEach`는 간단하게 요소를 반복하고 처리하는 데에 사용되며, `Stream` 은 보다 복잡한 데이터 처리 작업을 할 때 활용합니다.

`Stream` 은 내부적으로 최적화되어 병렬 처리를 효과적으로 수행할 수 있기에 대용량 데이터를 다룰 때 성능상 이점이 있습니다. 하지만 데이터가 적을 경우 성능을 저하시킬 수 있습니다.